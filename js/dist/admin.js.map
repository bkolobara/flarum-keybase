{"version":3,"sources":["webpack://@bkolobara/flarum-keybase/webpack/bootstrap","webpack://@bkolobara/flarum-keybase/./admin.js","webpack://@bkolobara/flarum-keybase/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@bkolobara/flarum-keybase/./src/admin/AdminNavigation.js","webpack://@bkolobara/flarum-keybase/./src/admin/SettingsPage.js","webpack://@bkolobara/flarum-keybase/./src/admin/components/Header.js","webpack://@bkolobara/flarum-keybase/./src/admin/components/Settings.js","webpack://@bkolobara/flarum-keybase/./src/admin/index.js","webpack://@bkolobara/flarum-keybase/external \"flarum.core.compat['Component']\"","webpack://@bkolobara/flarum-keybase/external \"flarum.core.compat['app']\"","webpack://@bkolobara/flarum-keybase/external \"flarum.core.compat['components/AdminLinkButton']\"","webpack://@bkolobara/flarum-keybase/external \"flarum.core.compat['components/AdminNav']\"","webpack://@bkolobara/flarum-keybase/external \"flarum.core.compat['components/Alert']\"","webpack://@bkolobara/flarum-keybase/external \"flarum.core.compat['components/Button']\"","webpack://@bkolobara/flarum-keybase/external \"flarum.core.compat['components/Dropdown']\"","webpack://@bkolobara/flarum-keybase/external \"flarum.core.compat['components/FieldSet']\"","webpack://@bkolobara/flarum-keybase/external \"flarum.core.compat['components/Page']\"","webpack://@bkolobara/flarum-keybase/external \"flarum.core.compat['components/UploadImageButton']\"","webpack://@bkolobara/flarum-keybase/external \"flarum.core.compat['extend']\"","webpack://@bkolobara/flarum-keybase/external \"flarum.core.compat['utils/saveSettings']\""],"names":["app","routes","keybaseSettings","path","component","SettingsPage","extend","AdminNav","prototype","items","add","AdminLinkButton","href","route","icon","children","description","view","Header","Settings","Page","Dropdown","label","buttonClassName","menuClassName","Button","className","onclick","m","Component","init","saving","fields","values","settings","data","forEach","key","prop","forum","attributes","keybase_svg_blackUrl","attribute","keybase_svg_black_path","keybase_svg_fullUrl","keybase_svg_full_path","onsubmit","bind","FieldSet","translator","trans","forum_title","withAttr","forum_description","keybase_contact_email","keybase_contact","UploadImageButton","name","type","loading","disabled","changed","some","e","preventDefault","alerts","dismiss","successAlert","version","keybase_config_version","undefined","parseInt","saveSettings","then","show","Alert","console","log","redraw","initializers","AdminNavigation"],"mappings":"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","file":"admin.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./admin.js\");\n","export * from \"./src/admin\";\n","export default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}","import app from \"flarum/app\";\nimport { extend } from \"flarum/extend\";\nimport AdminNav from \"flarum/components/AdminNav\";\nimport AdminLinkButton from \"flarum/components/AdminLinkButton\";\nimport SettingsPage from \"./SettingsPage\";\n\nexport default function() {\n  app.routes.keybaseSettings = {\n    path: \"/seo/settings\",\n    component: SettingsPage.component()\n  };\n\n  extend(AdminNav.prototype, \"items\", items => {\n    items.add(\n      \"keybase\",\n      AdminLinkButton.component({\n        href: app.route(\"keybaseSettings\"),\n        icon: \"fab fa-keybase\",\n        children: \"Keybase\",\n        description: \"Configure your Keybase integration settings.\"\n      })\n    );\n  });\n}\n","import Page from \"flarum/components/Page\";\nimport Settings from \"./components/Settings\";\nimport Header from \"./components/Header\";\n\nexport default class SettingsPage extends Page {\n  view() {\n    return (\n      <div className=\"Keybase\">\n        {Header.component()}\n\n        <div className=\"container\">{Settings.component()}</div>\n      </div>\n    );\n  }\n}\n","import Component from \"flarum/Component\";\nimport Button from \"flarum/components/Button\";\nimport Dropdown from \"flarum/components/Dropdown\";\n\nexport default class Header extends Component {\n  view() {\n    return (\n      <div className=\"header container\">\n        <div className=\"pull-right\">\n          {Dropdown.component({\n            label: \"Tools\",\n            icon: \"fas fa-cog\",\n            buttonClassName: \"Button\",\n            menuClassName: \"Dropdown-menu--right\",\n            children: [\n              Button.component({\n                className: \"Button\",\n                onclick: () => m.route(app.route(\"keybaseSettings\")),\n                icon: \"fas fa-cogs\",\n                children: \"Settings\"\n              })\n            ]\n          })}\n        </div>\n\n        <h2>Keybase</h2>\n\n        <div className=\"clear\" />\n      </div>\n    );\n  }\n}\n","import Component from \"flarum/Component\";\nimport FieldSet from \"flarum/components/FieldSet\";\nimport Button from \"flarum/components/Button\";\nimport saveSettings from \"flarum/utils/saveSettings\";\nimport Alert from \"flarum/components/Alert\";\nimport UploadImageButton from \"flarum/components/UploadImageButton\";\n\nexport default class Settings extends Component {\n  init() {\n    this.saving = false;\n\n    this.fields = [\n      \"forum_title\",\n      \"forum_description\",\n      \"keybase_config_version\",\n      \"keybase_contact_email\",\n      \"keybase_contact\"\n    ];\n    this.values = {};\n\n    const settings = app.data.settings;\n    this.fields.forEach(key => (this.values[key] = m.prop(settings[key])));\n\n    // Todo: Find a better way for image upload\n    app.forum.data.attributes.keybase_svg_blackUrl =\n      app.forum.attribute(\"baseUrl\") +\n      \"/assets/\" +\n      app.data.settings.keybase_svg_black_path;\n\n    app.forum.data.attributes.keybase_svg_fullUrl =\n      app.forum.attribute(\"baseUrl\") +\n      \"/assets/\" +\n      app.data.settings.keybase_svg_full_path;\n  }\n\n  view() {\n    return (\n      <div>\n        <div>\n          <p>\n            This page contains some other settings from around the admin area\n            that will be served as part of the{\" \"}\n            <a href=\"https://keybase.io/docs/proof_integration_guide#1-config\">\n              Keybase configuration file\n            </a>\n            . It's a good idea to keep an eye on them.\n          </p>\n        </div>\n\n        <form onsubmit={this.onsubmit.bind(this)} className=\"BasicsPage\">\n          {FieldSet.component({\n            label: app.translator.trans(\n              \"core.admin.basics.forum_title_heading\"\n            ),\n            children: [\n              <input\n                className=\"FormControl\"\n                value={this.values.forum_title()}\n                oninput={m.withAttr(\"value\", this.values.forum_title)}\n              />\n            ]\n          })}\n\n          {FieldSet.component({\n            label: app.translator.trans(\n              \"core.admin.basics.forum_description_heading\"\n            ),\n            children: [\n              <div className=\"helpText\">\n                {app.translator.trans(\n                  \"core.admin.basics.forum_description_text\"\n                )}\n              </div>,\n              <textarea\n                className=\"FormControl\"\n                value={this.values.forum_description()}\n                oninput={m.withAttr(\"value\", this.values.forum_description)}\n              />\n            ]\n          })}\n\n          {FieldSet.component({\n            label: \"Contact information\",\n            children: [\n              <div className=\"helpText\">\n                A contact for Keybase in case of issues.\n              </div>,\n              <div className=\"helpText\">Email</div>,\n              <input\n                className=\"FormControl\"\n                value={this.values.keybase_contact_email()}\n                oninput={m.withAttr(\"value\", this.values.keybase_contact_email)}\n              />,\n              <div className=\"helpText\">Keybase (e.g. user@keybase)</div>,\n              <input\n                className=\"FormControl\"\n                value={this.values.keybase_contact()}\n                oninput={m.withAttr(\"value\", this.values.keybase_contact)}\n              />\n            ]\n          })}\n\n          {FieldSet.component({\n            label: \"Logo\",\n            children: [\n              <div className=\"helpText\">\n                Your brand logo will appear in various places around the Keybase\n                app. Assets will be rehosted by Keybase, so let them know about\n                updates.\n                <h3>SVG Black</h3>\n                <p>\n                  A full-black monochrome SVG. Should look good at 16px square.\n                  Expand all texts and strokes to shapes.\n                </p>\n              </div>,\n              UploadImageButton.component({\n                name: \"keybase_svg_black\"\n              }),\n              <div className=\"helpText\">\n                <h3>SVG Full</h3>\n                <p>\n                  A full color SVG. Should look good at 32px square. Expand all\n                  texts and strokes to shapes.\n                </p>\n              </div>,\n              UploadImageButton.component({\n                name: \"keybase_svg_full\"\n              })\n            ]\n          })}\n\n          {Button.component({\n            type: \"submit\",\n            className: \"Button Button--primary\",\n            children: app.translator.trans(\"core.admin.basics.submit_button\"),\n            loading: this.saving,\n            disabled: !this.changed()\n          })}\n        </form>\n      </div>\n    );\n  }\n\n  // Settings changed\n  changed() {\n    return this.fields.some(\n      key => this.values[key]() !== app.data.settings[key]\n    );\n  }\n\n  // Save settings!\n  onsubmit(e) {\n    e.preventDefault();\n\n    if (this.saving) return;\n\n    this.saving = true;\n    app.alerts.dismiss(this.successAlert);\n\n    const settings = {};\n\n    // Bump config version on change\n    let version = this.values.keybase_config_version();\n    if (version === undefined) {\n      this.values.keybase_config_version(1);\n    } else {\n      this.values.keybase_config_version(parseInt(version) + 1);\n    }\n\n    this.fields.forEach(key => (settings[key] = this.values[key]()));\n\n    saveSettings(settings)\n      .then(() => {\n        app.alerts.show(\n          (this.successAlert = new Alert({\n            type: \"success\",\n            children: app.translator.trans(\"core.admin.basics.saved_message\")\n          }))\n        );\n      })\n      .catch(() => {})\n      .then(() => {\n        this.saving = false;\n        console.log(this.saving);\n        m.redraw();\n      });\n  }\n}\n","import app from \"flarum/app\";\nimport AdminNavigation from \"./AdminNavigation\";\n\napp.initializers.add(\"keybase-admin\", () => {\n  AdminNavigation();\n});\n","module.exports = flarum.core.compat['Component'];","module.exports = flarum.core.compat['app'];","module.exports = flarum.core.compat['components/AdminLinkButton'];","module.exports = flarum.core.compat['components/AdminNav'];","module.exports = flarum.core.compat['components/Alert'];","module.exports = flarum.core.compat['components/Button'];","module.exports = flarum.core.compat['components/Dropdown'];","module.exports = flarum.core.compat['components/FieldSet'];","module.exports = flarum.core.compat['components/Page'];","module.exports = flarum.core.compat['components/UploadImageButton'];","module.exports = flarum.core.compat['extend'];","module.exports = flarum.core.compat['utils/saveSettings'];"],"sourceRoot":""}