{"version":3,"sources":["webpack://@bkolobara/flarum-keybase/webpack/bootstrap","webpack://@bkolobara/flarum-keybase/external \"flarum.core.compat['app']\"","webpack://@bkolobara/flarum-keybase/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@bkolobara/flarum-keybase/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@bkolobara/flarum-keybase/./node_modules/@babel/runtime/regenerator/index.js","webpack://@bkolobara/flarum-keybase/external \"flarum.core.compat['Model']\"","webpack://@bkolobara/flarum-keybase/external \"flarum.core.compat['Component']\"","webpack://@bkolobara/flarum-keybase/external \"flarum.core.compat['components/LogInModal']\"","webpack://@bkolobara/flarum-keybase/./node_modules/@babel/runtime/helpers/OverloadYield.js","webpack://@bkolobara/flarum-keybase/./node_modules/@babel/runtime/helpers/regenerator.js","webpack://@bkolobara/flarum-keybase/./node_modules/@babel/runtime/helpers/regeneratorDefine.js","webpack://@bkolobara/flarum-keybase/./node_modules/@babel/runtime/helpers/regeneratorAsyncGen.js","webpack://@bkolobara/flarum-keybase/./node_modules/@babel/runtime/helpers/regeneratorAsyncIterator.js","webpack://@bkolobara/flarum-keybase/external \"flarum.core.compat['components/Page']\"","webpack://@bkolobara/flarum-keybase/external \"flarum.core.compat['extend']\"","webpack://@bkolobara/flarum-keybase/external \"flarum.core.compat['components/UserCard']\"","webpack://@bkolobara/flarum-keybase/./node_modules/@babel/runtime/helpers/regeneratorRuntime.js","webpack://@bkolobara/flarum-keybase/./node_modules/@babel/runtime/helpers/regeneratorAsync.js","webpack://@bkolobara/flarum-keybase/./node_modules/@babel/runtime/helpers/regeneratorKeys.js","webpack://@bkolobara/flarum-keybase/./node_modules/@babel/runtime/helpers/regeneratorValues.js","webpack://@bkolobara/flarum-keybase/./node_modules/@babel/runtime/helpers/typeof.js","webpack://@bkolobara/flarum-keybase/./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack://@bkolobara/flarum-keybase/./src/forum/components/KeybasePage.js","webpack://@bkolobara/flarum-keybase/./img/keybase_logo.svg","webpack://@bkolobara/flarum-keybase/./src/forum/extendUserCard.js","webpack://@bkolobara/flarum-keybase/./src/forum/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","flarum","core","compat","_setPrototypeOf","e","setPrototypeOf","__proto__","_inheritsLoose","constructor","runtime","require","regeneratorRuntime","accidentalStrictMode","globalThis","Function","this","v","k","regeneratorDefine","_regenerator","iterator","Generator","u","f","y","G","a","length","TypeError","done","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","displayName","w","_regeneratorDefine","_invoke","configurable","writable","regenerator","regeneratorAsyncIterator","Promise","OverloadYield","AsyncIterator","resolve","then","next","asyncIterator","regeneratorAsync","regeneratorAsyncGen","regeneratorKeys","regeneratorValues","_regeneratorRuntime","stop","abrupt","delegateYield","resultName","finish","_t","prev","sent","wrap","reverse","isGeneratorFunction","mark","awrap","async","keys","values","unshift","pop","_typeof","isNaN","asyncGeneratorStep","_asyncToGenerator","arguments","apply","_next","_throw","LoginPage","_Page","_proto","oninit","_oninit","_callee","vnode","urlParams","keybaseValidator","_context","loggedIn","app","session","user","modal","show","LogInModal","URLSearchParams","window","location","search","kbUsername","username","kbUa","sigHash","store","find","kb_username","kb_ua","sig_hash","proofValid","proofId","error","redraw","_x","authorise","_authorise","_callee2","_context2","request","method","url","replace","_x2","view","class","onclick","undefined","localAvatarUrl","avatarUrl","src","style","route","Page","KeybaseBadge","_Component","_this","target","href","attrs","proofUrl","canRevoke","_deactivate","deactivate","id","Component","reload","KeybaseValidator","_Model","_len","args","Array","_key","concat","Model","attribute","status","initializers","add","models","routes","keybaseProfileProof","path","component","KeybasePage","extend","UserCard","items","proofs","data","attributes","activeProofs","filter","proof","active","title","map"],"mappings":"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","file":"forum.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 29);\n","module.exports = flarum.core.compat['app'];","function _setPrototypeOf(t, e) {\n  return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {\n    return t.__proto__ = e, t;\n  }, _setPrototypeOf(t, e);\n}\nexport { _setPrototypeOf as default };","import setPrototypeOf from \"./setPrototypeOf.js\";\nfunction _inheritsLoose(t, o) {\n  t.prototype = Object.create(o.prototype), t.prototype.constructor = t, setPrototypeOf(t, o);\n}\nexport { _inheritsLoose as default };","// TODO(Babel 8): Remove this file.\n\nvar runtime = require(\"../helpers/regeneratorRuntime\")();\nmodule.exports = runtime;\n\n// Copied from https://github.com/facebook/regenerator/blob/main/packages/runtime/runtime.js#L736=\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","module.exports = flarum.core.compat['Model'];","module.exports = flarum.core.compat['Component'];","module.exports = flarum.core.compat['components/LogInModal'];","function _OverloadYield(e, d) {\n  this.v = e, this.k = d;\n}\nmodule.exports = _OverloadYield, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var regeneratorDefine = require(\"./regeneratorDefine.js\");\nfunction _regenerator() {\n  /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */\n  var e,\n    t,\n    r = \"function\" == typeof Symbol ? Symbol : {},\n    n = r.iterator || \"@@iterator\",\n    o = r.toStringTag || \"@@toStringTag\";\n  function i(r, n, o, i) {\n    var c = n && n.prototype instanceof Generator ? n : Generator,\n      u = Object.create(c.prototype);\n    return regeneratorDefine(u, \"_invoke\", function (r, n, o) {\n      var i,\n        c,\n        u,\n        f = 0,\n        p = o || [],\n        y = !1,\n        G = {\n          p: 0,\n          n: 0,\n          v: e,\n          a: d,\n          f: d.bind(e, 4),\n          d: function d(t, r) {\n            return i = t, c = 0, u = e, G.n = r, a;\n          }\n        };\n      function d(r, n) {\n        for (c = r, u = n, t = 0; !y && f && !o && t < p.length; t++) {\n          var o,\n            i = p[t],\n            d = G.p,\n            l = i[2];\n          r > 3 ? (o = l === n) && (u = i[(c = i[4]) ? 5 : (c = 3, 3)], i[4] = i[5] = e) : i[0] <= d && ((o = r < 2 && d < i[1]) ? (c = 0, G.v = n, G.n = i[1]) : d < l && (o = r < 3 || i[0] > n || n > l) && (i[4] = r, i[5] = n, G.n = l, c = 0));\n        }\n        if (o || r > 1) return a;\n        throw y = !0, n;\n      }\n      return function (o, p, l) {\n        if (f > 1) throw TypeError(\"Generator is already running\");\n        for (y && 1 === p && d(p, l), c = p, u = l; (t = c < 2 ? e : u) || !y;) {\n          i || (c ? c < 3 ? (c > 1 && (G.n = -1), d(c, u)) : G.n = u : G.v = u);\n          try {\n            if (f = 2, i) {\n              if (c || (o = \"next\"), t = i[o]) {\n                if (!(t = t.call(i, u))) throw TypeError(\"iterator result is not an object\");\n                if (!t.done) return t;\n                u = t.value, c < 2 && (c = 0);\n              } else 1 === c && (t = i[\"return\"]) && t.call(i), c < 2 && (u = TypeError(\"The iterator does not provide a '\" + o + \"' method\"), c = 1);\n              i = e;\n            } else if ((t = (y = G.n < 0) ? u : r.call(n, G)) !== a) break;\n          } catch (t) {\n            i = e, c = 1, u = t;\n          } finally {\n            f = 1;\n          }\n        }\n        return {\n          value: t,\n          done: y\n        };\n      };\n    }(r, o, i), !0), u;\n  }\n  var a = {};\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n  t = Object.getPrototypeOf;\n  var c = [][n] ? t(t([][n]())) : (regeneratorDefine(t = {}, n, function () {\n      return this;\n    }), t),\n    u = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(c);\n  function f(e) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(e, GeneratorFunctionPrototype) : (e.__proto__ = GeneratorFunctionPrototype, regeneratorDefine(e, o, \"GeneratorFunction\")), e.prototype = Object.create(u), e;\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, regeneratorDefine(u, \"constructor\", GeneratorFunctionPrototype), regeneratorDefine(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = \"GeneratorFunction\", regeneratorDefine(GeneratorFunctionPrototype, o, \"GeneratorFunction\"), regeneratorDefine(u), regeneratorDefine(u, o, \"Generator\"), regeneratorDefine(u, n, function () {\n    return this;\n  }), regeneratorDefine(u, \"toString\", function () {\n    return \"[object Generator]\";\n  }), (module.exports = _regenerator = function _regenerator() {\n    return {\n      w: i,\n      m: f\n    };\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports)();\n}\nmodule.exports = _regenerator, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _regeneratorDefine(e, r, n, t) {\n  var i = Object.defineProperty;\n  try {\n    i({}, \"\", {});\n  } catch (e) {\n    i = 0;\n  }\n  module.exports = _regeneratorDefine = function regeneratorDefine(e, r, n, t) {\n    function o(r, n) {\n      _regeneratorDefine(e, r, function (e) {\n        return this._invoke(r, n, e);\n      });\n    }\n    r ? i ? i(e, r, {\n      value: n,\n      enumerable: !t,\n      configurable: !t,\n      writable: !t\n    }) : e[r] = n : (o(\"next\", 0), o(\"throw\", 1), o(\"return\", 2));\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports, _regeneratorDefine(e, r, n, t);\n}\nmodule.exports = _regeneratorDefine, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var regenerator = require(\"./regenerator.js\");\nvar regeneratorAsyncIterator = require(\"./regeneratorAsyncIterator.js\");\nfunction _regeneratorAsyncGen(r, e, t, o, n) {\n  return new regeneratorAsyncIterator(regenerator().w(r, e, t, o), n || Promise);\n}\nmodule.exports = _regeneratorAsyncGen, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var OverloadYield = require(\"./OverloadYield.js\");\nvar regeneratorDefine = require(\"./regeneratorDefine.js\");\nfunction AsyncIterator(t, e) {\n  function n(r, o, i, f) {\n    try {\n      var c = t[r](o),\n        u = c.value;\n      return u instanceof OverloadYield ? e.resolve(u.v).then(function (t) {\n        n(\"next\", t, i, f);\n      }, function (t) {\n        n(\"throw\", t, i, f);\n      }) : e.resolve(u).then(function (t) {\n        c.value = t, i(c);\n      }, function (t) {\n        return n(\"throw\", t, i, f);\n      });\n    } catch (t) {\n      f(t);\n    }\n  }\n  var r;\n  this.next || (regeneratorDefine(AsyncIterator.prototype), regeneratorDefine(AsyncIterator.prototype, \"function\" == typeof Symbol && Symbol.asyncIterator || \"@asyncIterator\", function () {\n    return this;\n  })), regeneratorDefine(this, \"_invoke\", function (t, o, i) {\n    function f() {\n      return new e(function (e, r) {\n        n(t, i, e, r);\n      });\n    }\n    return r = r ? r.then(f, f) : f();\n  }, !0);\n}\nmodule.exports = AsyncIterator, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","module.exports = flarum.core.compat['components/Page'];","module.exports = flarum.core.compat['extend'];","module.exports = flarum.core.compat['components/UserCard'];","var OverloadYield = require(\"./OverloadYield.js\");\nvar regenerator = require(\"./regenerator.js\");\nvar regeneratorAsync = require(\"./regeneratorAsync.js\");\nvar regeneratorAsyncGen = require(\"./regeneratorAsyncGen.js\");\nvar regeneratorAsyncIterator = require(\"./regeneratorAsyncIterator.js\");\nvar regeneratorKeys = require(\"./regeneratorKeys.js\");\nvar regeneratorValues = require(\"./regeneratorValues.js\");\nfunction _regeneratorRuntime() {\n  \"use strict\";\n\n  var r = regenerator(),\n    e = r.m(_regeneratorRuntime),\n    t = (Object.getPrototypeOf ? Object.getPrototypeOf(e) : e.__proto__).constructor;\n  function n(r) {\n    var e = \"function\" == typeof r && r.constructor;\n    return !!e && (e === t || \"GeneratorFunction\" === (e.displayName || e.name));\n  }\n  var o = {\n    \"throw\": 1,\n    \"return\": 2,\n    \"break\": 3,\n    \"continue\": 3\n  };\n  function a(r) {\n    var e, t;\n    return function (n) {\n      e || (e = {\n        stop: function stop() {\n          return t(n.a, 2);\n        },\n        \"catch\": function _catch() {\n          return n.v;\n        },\n        abrupt: function abrupt(r, e) {\n          return t(n.a, o[r], e);\n        },\n        delegateYield: function delegateYield(r, o, a) {\n          return e.resultName = o, t(n.d, regeneratorValues(r), a);\n        },\n        finish: function finish(r) {\n          return t(n.f, r);\n        }\n      }, t = function t(r, _t, o) {\n        n.p = e.prev, n.n = e.next;\n        try {\n          return r(_t, o);\n        } finally {\n          e.next = n.n;\n        }\n      }), e.resultName && (e[e.resultName] = n.v, e.resultName = void 0), e.sent = n.v, e.next = n.n;\n      try {\n        return r.call(this, e);\n      } finally {\n        n.p = e.prev, n.n = e.next;\n      }\n    };\n  }\n  return (module.exports = _regeneratorRuntime = function _regeneratorRuntime() {\n    return {\n      wrap: function wrap(e, t, n, o) {\n        return r.w(a(e), t, n, o && o.reverse());\n      },\n      isGeneratorFunction: n,\n      mark: r.m,\n      awrap: function awrap(r, e) {\n        return new OverloadYield(r, e);\n      },\n      AsyncIterator: regeneratorAsyncIterator,\n      async: function async(r, e, t, o, u) {\n        return (n(e) ? regeneratorAsyncGen : regeneratorAsync)(a(r), e, t, o, u);\n      },\n      keys: regeneratorKeys,\n      values: regeneratorValues\n    };\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports)();\n}\nmodule.exports = _regeneratorRuntime, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var regeneratorAsyncGen = require(\"./regeneratorAsyncGen.js\");\nfunction _regeneratorAsync(n, e, r, t, o) {\n  var a = regeneratorAsyncGen(n, e, r, t, o);\n  return a.next().then(function (n) {\n    return n.done ? n.value : a.next();\n  });\n}\nmodule.exports = _regeneratorAsync, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _regeneratorKeys(e) {\n  var n = Object(e),\n    r = [];\n  for (var t in n) r.unshift(t);\n  return function e() {\n    for (; r.length;) if ((t = r.pop()) in n) return e.value = t, e.done = !1, e;\n    return e.done = !0, e;\n  };\n}\nmodule.exports = _regeneratorKeys, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nfunction _regeneratorValues(e) {\n  if (null != e) {\n    var t = e[\"function\" == typeof Symbol && Symbol.iterator || \"@@iterator\"],\n      r = 0;\n    if (t) return t.call(e);\n    if (\"function\" == typeof e.next) return e;\n    if (!isNaN(e.length)) return {\n      next: function next() {\n        return e && r >= e.length && (e = void 0), {\n          value: e && e[r++],\n          done: !e\n        };\n      }\n    };\n  }\n  throw new TypeError(_typeof(e) + \" is not iterable\");\n}\nmodule.exports = _regeneratorValues, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports, _typeof(o);\n}\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function asyncGeneratorStep(n, t, e, r, o, a, c) {\n  try {\n    var i = n[a](c),\n      u = i.value;\n  } catch (n) {\n    return void e(n);\n  }\n  i.done ? t(u) : Promise.resolve(u).then(r, o);\n}\nfunction _asyncToGenerator(n) {\n  return function () {\n    var t = this,\n      e = arguments;\n    return new Promise(function (r, o) {\n      var a = n.apply(t, e);\n      function _next(n) {\n        asyncGeneratorStep(a, r, o, _next, _throw, \"next\", n);\n      }\n      function _throw(n) {\n        asyncGeneratorStep(a, r, o, _next, _throw, \"throw\", n);\n      }\n      _next(void 0);\n    });\n  };\n}\nexport { _asyncToGenerator as default };","import app from \"flarum/app\";\nimport Page from \"flarum/components/Page\";\nimport LogInModal from \"flarum/components/LogInModal\";\nimport keybaseLogo from \"../../../img/keybase_logo.svg\";\n\nexport default class LoginPage extends Page {\n  async oninit(vnode) {\n    super.oninit(vnode);\n\n    this.loggedIn = true;\n    if (!app.session.user) {\n      this.loggedIn = false;\n      app.modal.show(LogInModal);\n    } else {\n      const urlParams = new URLSearchParams(window.location.search);\n      this.kbUsername = urlParams.get(\"kbUsername\");\n      this.username = urlParams.get(\"username\");\n      this.kbUa = urlParams.get(\"kbUa\");\n      this.sigHash = urlParams.get(\"sigHash\");\n\n      const keybaseValidator = await app.store.find(\"keybase-validate\", {\n        kb_username: this.kbUsername,\n        username: this.username,\n        kb_ua: this.kbUa,\n        sig_hash: this.sigHash\n      });\n      this.proofValid = keybaseValidator.proofValid();\n      if (this.proofValid) {\n        this.proofId = keybaseValidator.proofId();\n      } else {\n        this.error = keybaseValidator.error();\n      }\n      m.redraw();\n    }\n  }\n\n  async authorise(e) {\n    const result = await m.request({\n      method: \"GET\",\n      url: `/api/keybase-activate/${this.proofId}`\n    });\n    if (result) {\n      window.location.replace(\n        `https://keybase.io/_/proof_creation_success?domain=galactictalk.org` +\n          `&kb_username=${this.kbUsername}&username=${this.username}` +\n          `&sig_hash=${this.sigHash}&kb_ua=${this.kbUa}`\n      );\n    }\n  }\n\n  view() {\n    if (!this.loggedIn) {\n      return (\n        <div class=\"keybase\">\n          <div class=\"authorize-window\">\n            <h3>\n              You must be logged in to prove your identity.\n              <a onclick={e => app.modal.show(LogInModal)}>\n                {\" \"}\n                Click here to log in.\n              </a>\n            </h3>\n          </div>\n        </div>\n      );\n    }\n    if (this.error) {\n      return (\n        <div class=\"keybase\">\n          <div class=\"authorize-window\">\n            <h3>{this.error}</h3>\n          </div>\n        </div>\n      );\n    }\n    if (this.proofValid === undefined) {\n      return (\n        <div class=\"keybase\">\n          <div class=\"authorize-window\">\n            <h3>Checking signature.</h3>\n          </div>\n        </div>\n      );\n    }\n    if (!this.proofValid) {\n      return (\n        <div class=\"keybase\">\n          <div class=\"authorize-window\">\n            <h3>Invalid signature check.</h3>\n          </div>\n        </div>\n      );\n    }\n\n    const localAvatarUrl = app.session.user.avatarUrl();\n    return (\n      <div class=\"keybase\">\n        <div class=\"authorize-window\">\n          <h3>Authorize this cryptographic connection?</h3>\n          <div class=\"accounts\">\n            <div class=\"forum\">\n              {!localAvatarUrl ? (\n                <span class=\"Avatar no-avatar\" style=\"background: #aaa;\">\n                  {\" \"}\n                </span>\n              ) : (\n                <img src={localAvatarUrl} />\n              )}\n              <p>\n                I am <b>{this.username}</b> on Galactictalk.\n              </p>\n            </div>\n            <div>\n              <img class=\"keybase\" src={keybaseLogo} />\n              <p>\n                I am <b>{this.kbUsername}</b> on Keybase.\n              </p>\n            </div>\n          </div>\n          <button class=\"yes\" onclick={this.authorise.bind(this)}>\n            Yes, authorize\n          </button>\n          <button onclick={e => m.route(\"/\")}>No</button>\n        </div>\n      </div>\n    );\n  }\n}\n","export default \"data:image/svg+xml;base64,PHN2ZyB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOmNjPSJodHRwOi8vY3JlYXRpdmVjb21tb25zLm9yZy9ucyMiIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyIgeG1sbnM6c3ZnPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMjIzLjMzMzMzIDIwNC44OTkwNiIgaGVpZ2h0PSIyMDQuODk5MDYiIHdpZHRoPSIyMjMuMzMzMzMiIHhtbDpzcGFjZT0icHJlc2VydmUiIGlkPSJzdmc0NTA0IiB2ZXJzaW9uPSIxLjEiPjxtZXRhZGF0YSBpZD0ibWV0YWRhdGE0NTEwIj48cmRmOlJERj48Y2M6V29yayByZGY6YWJvdXQ9IiI+PGRjOmZvcm1hdD5pbWFnZS9zdmcreG1sPC9kYzpmb3JtYXQ+PGRjOnR5cGUgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIvPjxkYzp0aXRsZS8+PC9jYzpXb3JrPjwvcmRmOlJERj48L21ldGFkYXRhPjxkZWZzIGlkPSJkZWZzNDUwOCI+PGNsaXBQYXRoIGlkPSJjbGlwUGF0aDQ1MjAiIGNsaXBQYXRoVW5pdHM9InVzZXJTcGFjZU9uVXNlIj48cGF0aCBpZD0icGF0aDQ1MTgiIGQ9Ik0gMCw2MDAgSCA2MDAgViAwIEggMCBaIi8+PC9jbGlwUGF0aD48L2RlZnM+PGcgdHJhbnNmb3JtPSJtYXRyaXgoMS4zMzMzMzMzLDAsMCwtMS4zMzMzMzMzLC0yODguMzMzMzMsNTAyLjQ0OTMyKSIgaWQ9Imc0NTEyIj48ZyBpZD0iZzQ1MTQiPjxnIGNsaXAtcGF0aD0idXJsKCNjbGlwUGF0aDQ1MjApIiBpZD0iZzQ1MTYiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDMwMCwzNjIuNDI4NykiIGlkPSJnNDUyMiI+PHBhdGggaWQ9InBhdGg0NTI0IiBzdHlsZT0iZmlsbDojMzNhMGZmO2ZpbGwtb3BhY2l0eToxO2ZpbGwtcnVsZTpub256ZXJvO3N0cm9rZTpub25lIiBkPSJtIDAsMCBjIC00NC4xODMsMCAtODAsLTM1LjgxNyAtODAsLTgwIDAsLTE1LjI1NCA0LjI3MSwtMjkuNTA5IDExLjY3OSwtNDEuNjM5IGwgMjAuOSwyMi4xOTEgMTA1Ljc4MywtMC42NjEgLTAuNzY2LC0zNS40MDcgQyA3MS40NjcsLTEyMS4xMjkgODAsLTEwMS41NjIgODAsLTgwIDgwLC0zNS44MTcgNDQuMTgzLDAgMCwwIi8+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI2My44MzYzLDMzOS42Mjc0KSIgaWQ9Imc0NTI2Ij48cGF0aCBpZD0icGF0aDQ1MjgiIHN0eWxlPSJmaWxsOiMzZGNjOGU7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOm5vbnplcm87c3Ryb2tlOm5vbmUiIGQ9Im0gMCwwIGMgLTMuODk5LDAuMjM5IC02Ljg4NywzLjYwOCAtNi42Niw3LjUxMSBsIDAuNTI5LDguNTQ3IGMgMC4yMzIsMy43MzkgMy4zNSw2LjY2OSA3LjA5Nyw2LjY2OSAwLjE0LDAgMC4yODEsLTAuMDA0IDAuNDIyLC0wLjAxMyBMIDkuOTMsMjIuMTg1IGMgMS44OSwtMC4xMTUgMy42MjcsLTAuOTYyIDQuODg1LC0yLjM4NiAxLjI2LC0xLjQyNCAxLjg4OCwtMy4yNTYgMS43NjcsLTUuMTU2IEwgMTYuMDU4LDYuMTI5IEMgMTYuMDI3LDUuNjM3IDE1LjkyOCw1LjI0NyAxNS44NjcsNS4wMzQgTCAxNS41NjMsMy41NDcgOS45NDIsLTAuNjE1IFoiLz48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjY0LjgwMjUsMzY2LjY0NjgpIiBpZD0iZzQ1MzAiPjxwYXRoIGlkPSJwYXRoNDUzMiIgc3R5bGU9ImZpbGw6IzI4MjgyODtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6bm9uemVybztzdHJva2U6bm9uZSIgZD0ibSAwLDAgYyAtNi4wMSwwIC0xMS4wMDksLTQuNjk4IC0xMS4zODEsLTEwLjY5NiBsIC0wLjUyOSwtOC41MzIgLTEwZS00LC0wLjAxNiAtMC4wMDEsLTAuMDE1IGMgLTAuMzY0LC02LjI1OSA0LjQzLC0xMS42NjIgMTAuNjg2LC0xMi4wNDUgbCA4LjM3NSwtMC41MTggMy4xMjMsLTAuMTkzIDIuNTE1LDEuODYyIDMuMDQyLDIuMjUxIDIuNjQzLDEuOTU3IDAuNjA3LDIuOTY3IGMgMC4xMiwwLjQ1NSAwLjI1LDEuMDY4IDAuMjk3LDEuODE4IGwgMC41MjQsOC41MjIgYyAwLjE5MiwzLjA0NSAtMC44MTcsNS45OCAtMi44MzksOC4yNjYgLTIuMDEzLDIuMjc4IC00LjgsMy42MzggLTcuODQzLDMuODIzIEwgMC43LC0wLjAyMSBIIDAuNjg4IEwgMC42NzUsLTAuMDIgQyAwLjQ1MSwtMC4wMDcgMC4yMjQsMCAwLDAgbSA2LjM3OCwtMTguNjIxIDAuMzE0LDUuMDc1IC01LjA3NiwwLjMxNCAtMC4zMTUsLTUuMDc2IDUuMDc3LC0wLjMxMyBNIDAsLTguNTg1IGMgMC4wNTYsMCAwLjExMywtMC4wMDIgMC4xNywtMC4wMDUgbCA4LjUyOCwtMC41MjkgYyAwLjc0NywtMC4wNDUgMS40MzYsLTAuMzggMS45MzMsLTAuOTQzIDAuNSwtMC41NjUgMC43NDksLTEuMjkgMC43MDEsLTIuMDQxIGwgLTAuNTI1LC04LjUyNCBjIC0wLjAwOCwtMC4xMzIgLTAuMDYxLC0wLjI0OCAtMC4wODYsLTAuMzc0IGwgLTMuMDQyLC0yLjI1MiAtOC4zOCwwLjUxOCBjIC0xLjU0NiwwLjA5NSAtMi43MywxLjQzIC0yLjY0LDIuOTc3IGwgMC41MjksOC41MzEgYyAwLjA5MiwxLjQ4OSAxLjMyNywyLjY0MiAyLjgxMiwyLjY0MiIvPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzMDAsMzIwLjk2MjMpIiBpZD0iZzQ1MzQiPjxwYXRoIGlkPSJwYXRoNDUzNiIgc3R5bGU9ImZpbGw6I2ZmZmZmZjtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6bm9uemVybztzdHJva2U6bm9uZSIgZD0ibSAwLDAgYyAtMzMuNDAyLDAgLTYwLjQ4LC0yNy4wNzggLTYwLjQ4LC02MC40OCAwLC0xMi40MjEgMy43NDYsLTIzLjk2NSAxMC4xNjcsLTMzLjU2OSBIIDUyLjc0MiBjIDUuNDI0LDkuOTA3IDcuNzM4LDIxLjYzNyA3LjczOCwzMy41NjkgQyA2MC40OCwtMjkuNTY2IDMzLjQwMiwwIDAsMCIvPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyOTkuOTk5OSwzMjUuMjU1KSIgaWQ9Imc0NTM4Ij48cGF0aCBpZD0icGF0aDQ1NDAiIHN0eWxlPSJmaWxsOiMyODI4Mjc7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOm5vbnplcm87c3Ryb2tlOm5vbmUiIGQ9Im0gMCwwIGMgLTM1LjcxNiwwIC02NC43NzMsLTI5LjA1NyAtNjQuNzczLC02NC43NzMgMCwtMTIuMjggMy40MzYsLTIzLjc3NCA5LjM5NiwtMzMuNTY5IGggMTAuMzQ3IGMgLTcuMDA1LDkuMzcyIC0xMS4xNTcsMjAuOTk1IC0xMS4xNTcsMzMuNTY5IDAsMzAuOTgyIDI1LjIwNSw1Ni4xODggNTYuMTg3LDU2LjE4OCAxNC43MTYsMCAyOC44MTEsLTYuMTYxIDM5LjY4OCwtMTcuMzQ4IDEwLjQ4NiwtMTAuNzgzIDE2LjUsLTI0Ljk0IDE2LjUsLTM4Ljg0IDAsLTkuNTE3IC0xLjU3MiwtMjIuNDUgLTguNDA1LC0zMy41NjkgaCA5Ljc5OSBjIDQuNzI5LDkuNTE5IDcuMTkxLDIwLjkgNy4xOTEsMzMuNTY5IDAsMTYuMTE2IC02Ljg5OSwzMi40NTQgLTE4LjkyOSw0NC44MjYgQyAzMy4zMzYsLTcuMDg0IDE3LjA1NSwwIDAsMCIvPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyODcuNzg5MSwyNDIuOTI1NCkiIGlkPSJnNDU0MiI+PHBhdGggaWQ9InBhdGg0NTQ0IiBzdHlsZT0iZmlsbDojMjgyODI3O2ZpbGwtb3BhY2l0eToxO2ZpbGwtcnVsZTpub256ZXJvO3N0cm9rZTpub25lIiBkPSJtIDAsMCBjIDAsLTMuMjA3IC0yLjU5OSwtNS44MDYgLTUuODA2LC01LjgwNiAtMy4yMDcsMCAtNS44MDYsMi41OTkgLTUuODA2LDUuODA2IDAsMy4yMDcgMi41OTksNS44MDYgNS44MDYsNS44MDYgQyAtMi41OTksNS44MDYgMCwzLjIwNyAwLDAiLz48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzIzLjgyMjgsMjQyLjkyNTQpIiBpZD0iZzQ1NDYiPjxwYXRoIGlkPSJwYXRoNDU0OCIgc3R5bGU9ImZpbGw6IzI4MjgyNztmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6bm9uemVybztzdHJva2U6bm9uZSIgZD0ibSAwLDAgYyAwLC0zLjIwNyAtMi41OTksLTUuODA2IC01LjgwNiwtNS44MDYgLTMuMjA3LDAgLTUuODA2LDIuNTk5IC01LjgwNiw1LjgwNiAwLDMuMjA3IDIuNTk5LDUuODA2IDUuODA2LDUuODA2IEMgLTIuNTk5LDUuODA2IDAsMy4yMDcgMCwwIi8+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDIzNC4wMTE3LDI0NS4yMjg3KSIgaWQ9Imc0NTUwIj48cGF0aCBpZD0icGF0aDQ1NTIiIHN0eWxlPSJmaWxsOiNmZjZmMjE7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOm5vbnplcm87c3Ryb2tlOm5vbmUiIGQ9Ik0gMCwwIDMyLjIyOCwzNC4xOCAyNC40NzEsOS44NjEgYyAyNS4xNjEsMTguMzEgNTEuNTc1LDE1LjQxNSA3MC4xNzQsOS45NTMgMTkuNzQxLC01Ljc5NiAzMy41NjIsMTEuNjM5IDIwLjAzMiwzMC4yMzggQyAxMDguMjQ4LDU4Ljg5MSA5OS40MjksNjYuMjMgODkuNDEyLDcwLjY4MSA2My4xMzksODIuMzUyIDM2LjcyNCw3NS41NDcgMTguOTA1LDU3LjU0NyAwLjAyOSwzOC40NzkgMCwxNy4zMyAwLDAiLz48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjk2Ljk3MTYsMzE3LjM4ODYpIiBpZD0iZzQ1NTQiPjxwYXRoIGlkPSJwYXRoNDU1NiIgc3R5bGU9ImZpbGw6IzI4MjgyNztmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6bm9uemVybztzdHJva2U6bm9uZSIgZD0ibSAwLDAgYyAtMy43NDEsMCAtNy40NTYsLTAuMzczIC0xMS4xMDcsLTEuMTI0IC0xMS4xMzUsLTIuMjkgLTIxLjQ3MywtNy45OTkgLTI5Ljg5NywtMTYuNTA5IC0xMy45OTMsLTE0LjEzNSAtMTYuOTAxLC0yOS4zMDYgLTE3LjUwNSwtNDMuNTQ5IGwgMzcuNjAzLDM5Ljg4MSAtOS45NTUsLTMxLjIwOCBjIDE4LjcwOCw5Ljc4MSA0MC4wOTksMTEuMjI4IDYzLjc1NSw0LjI4MiA3LjUyOCwtMi4yMSAxNC4zNTEsLTAuNTM1IDE3LjgwOCw0LjM3MSAzLjU1MSw1LjA0MSAyLjYzMywxMi4yMjcgLTIuNDU2LDE5LjIyMyAtNi4wODEsOC4zNiAtMTQuNDQsMTUuMTg5IC0yMy41MzcsMTkuMjMxIEMgMTYuNjQxLC0xLjgxOCA4LjI1OSwwIDAsMCBtIC02Ny4yNTIsLTgyLjk3IHYgMTAuODEgYyAwLDE3LjkxNyAwLDQwLjIxNSAyMC4xNDYsNjAuNTY3IDkuNjIsOS43MTcgMjEuNDcsMTYuMjQ1IDM0LjI2OSwxOC44NzggMTMuNDc0LDIuNzcyIDI3LjY2MiwxLjA5OCA0MS4wMzIsLTQuODQxIDEwLjQ1MywtNC42NDQgMjAuMDQsLTEyLjQ2NyAyNi45OTQsLTIyLjAyNiA3LjI0MywtOS45NTggOC4yMTMsLTIxLjE1NCAyLjUzMSwtMjkuMjE4IC01LjU1NSwtNy44ODUgLTE2LjI0NywtMTAuODkyIC0yNy4yNDUsLTcuNjY0IC0yNS4zNjQsNy40NDggLTQ3LjcxOCw0LjMxNyAtNjYuNDM4LC05LjMwNiBsIC0xMC42LC03LjcxMyA2LjAwNSwxOC44MjUgeiIvPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzMTUuNDM5NSwzMjQuMTgzNSkiIGlkPSJnNDU1OCI+PHBhdGggaWQ9InBhdGg0NTYwIiBzdHlsZT0iZmlsbDojZmY2ZjIxO2ZpbGwtb3BhY2l0eToxO2ZpbGwtcnVsZTpub256ZXJvO3N0cm9rZTpub25lIiBkPSJtIDAsMCBjIC0zLjgyMSwtOS45NTYgLTE0LjkwMSwtMTUuNTE1IC0yNS4xNjcsLTEyLjYyNSAtMTEuNTY2LDMuMjU3IC0xNy42NzMsMTIuNTUyIC0xNi4yMDcsMjQuMzQyIDEuNDU5LDExLjcyNSA5LjM4MiwyMi4wMDUgMTguNTE1LDM0LjY3NyAtNy41MDIsLTE1Ljk2OSAtMS4xMjksLTE3LjQ2NSAwLjg4NywtMTcuMzg1IDEuOTkyLDAuMDc5IDQuOSwtMC4yNjEgOS4wMzksLTEuNjM0IEMgLTEuNjU2LDIzLjYzMiA0LjMwNSwxMS4yMTggMCwwIi8+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI4NS44Mjk0LDM1My40NjUpIiBpZD0iZzQ1NjIiPjxwYXRoIGlkPSJwYXRoNDU2NCIgc3R5bGU9ImZpbGw6IzI4MjgyNztmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6bm9uemVybztzdHJva2U6bm9uZSIgZD0ibSAwLDAgYyAtMy45NjIsLTYuMjEyIC02Ljc0NCwtMTEuOTg2IC03LjUwNCwtMTguMDk0IC0xLjIwMywtOS42NzMgMy42OTgsLTE3LjAzIDEzLjExMSwtMTkuNjggOC4xNzIsLTIuMzAxIDE2Ljk1NCwyLjEwNSAxOS45OTYsMTAuMDMgMS42NDksNC4yOTggMS40NzcsOC45NDcgLTAuNDg0LDEzLjA5MSAtMS45NjMsNC4xNDggLTUuNDQxLDcuMjI4IC05Ljc5NCw4LjY3MiAtMy44MiwxLjI2OCAtNi4xOTgsMS40NjkgLTcuNTE2LDEuNDE5IEMgNC44NSwtNC42NzggMi4xMTksLTMuMyAwLjUwOSwtMC44NzIgMC4zMjMsLTAuNTkyIDAuMTUzLC0wLjMwMiAwLDAgbSA5Ljk3NywtNDYuOTYzIGMgLTIuMjI2LDAgLTQuNDc1LDAuMjk5IC02LjY5NywwLjkyNSAtNi42NjYsMS44NzcgLTExLjk5Myw1LjU4NyAtMTUuNDA0LDEwLjcyOSAtMy40MDEsNS4xMjYgLTQuNzQ5LDExLjQ0NSAtMy45LDE4LjI3NSAxLjUsMTIuMDU3IDguOTMxLDIyLjMyOSAxNy41MzUsMzQuMjIzIDAuNTgsMC44MDIgMS4xNjYsMS42MTIgMS43NTgsMi40MzMgbCA3LjM2NywtNC4zMzUgQyA3LDcuNTQ2IDcuNDE3LDQuNjggNy42MDgsNC4wMjYgYyAyLjkyNSwwLjA4OSA2LjQzMSwtMC41MzQgMTAuNDIxLC0xLjg1OCA2LjYwMSwtMi4xOTEgMTEuODc1LC02Ljg2IDE0Ljg1LC0xMy4xNDkgMi45NzQsLTYuMjg0IDMuMjM2LC0xMy4zMyAwLjczOSwtMTkuODM5IEMgMjkuODMsLTQwLjY4OSAyMC4xNzIsLTQ2Ljk2MyA5Ljk3NywtNDYuOTYzIi8+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDMwNC41OTE2LDI4Ni4xNjEzKSIgaWQ9Imc0NTY2Ij48cGF0aCBpZD0icGF0aDQ1NjgiIHN0eWxlPSJmaWxsOiMzZGNjOGU7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOm5vbnplcm87c3Ryb2tlOm5vbmUiIGQ9Im0gMCwwIGMgLTEuNTAzLDAgLTIuOTExLDAuNjY4IC0zLjg2MSwxLjgzMiBsIC0yLjg4OCwzLjUzNyBjIC0xLjY3NCwyLjA1IC0xLjQzNCw1LjA0OSAwLjUwMSw2LjgxMSAtMC42MjUsMC4zMDYgLTEuMTg0LDAuNzQ3IC0xLjYzOCwxLjMwMyBsIC0wLjY1OSwwLjgwNyBjIC0xLjczNCwyLjEyMyAtMS40MTcsNS4yNiAwLjcwNSw2Ljk5MyBsIDAuNDE1LDAuMzM5IC00LjIzLDUuMTkyIGMgLTEuODgxLDIuMzA0IC0xLjUzNiw1LjcxMyAwLjc3LDcuNTk3IDAuOTY3LDAuNzg4IDIuMTc5LDEuMjE5IDMuNDE3LDEuMjE5IDEuNjI2LDAgMy4xNTEsLTAuNzIyIDQuMTgyLC0xLjk4MiBMIDE0Ljc1NywxMS40NDEgQyAxNi42MzUsOS4xNCAxNi4yOSw1LjczMSAxMy45ODQsMy44NDcgMTMuMzQ4LDMuMzI3IDEyLjU4NiwyLjk1MyAxMS43ODQsMi43NjggMTEuMzg2LDIuNjc2IDEwLjk3NiwyLjYzIDEwLjU2NywyLjYzIHYgMCBDIDkuMTYxLDIuNjMgNy44MzIsMy4xNjkgNi44MzEsNC4xMjggTCAzLjE1LDEuMTIzIEMgMi4yNjMsMC4zOTkgMS4xNDQsMCAwLDAiLz48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzA0LjAyMjksMzIyLjAzNDUpIiBpZD0iZzQ1NzAiPjxwYXRoIGlkPSJwYXRoNDU3MiIgc3R5bGU9ImZpbGw6IzI4MjgyODtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6bm9uemVybztzdHJva2U6bm9uZSIgZD0ibSAwLDAgYyAtMS43MDEsMi4wNzggLTQuMjE2LDMuMjY5IC02Ljg5OSwzLjI2OSAtMi4wNDQsMCAtNC4wNDQsLTAuNzEyIC01LjYzMSwtMi4wMDQgLTMuODE0LC0zLjExNiAtNC4zODIsLTguNzQxIC0xLjI3NSwtMTIuNTQ3IGwgMi4zNSwtMi44ODUgYyAtMS43MjYsLTIuOTY4IC0xLjUzOSwtNi44MjQgMC43NTgsLTkuNjM3IGwgMC40NDIsLTAuNTQyIGMgLTEuMDM5LC0yLjc0MSAtMC42MywtNS45NSAxLjM1NCwtOC4zNzkgbCAyLjg4OCwtMy41MzggYyAxLjYxOSwtMS45ODQgNC4wMTgsLTMuMTIyIDYuNTgxLC0zLjEyMiAxLjk1MiwwIDMuODYsMC42NzkgNS4zNzIsMS45MTQgbCAxLjczLDEuNDEyIGMgMS4wODIsLTAuNDU1IDIuMjU3LC0wLjY5NyAzLjQ2NiwtMC42OTcgMC42NzQsMCAxLjM0OSwwLjA3NyAyLjAwNiwwLjIyOSAxLjMyNCwwLjMwNSAyLjU4LDAuOTIxIDMuNjMzLDEuNzgxIDMuODA1LDMuMTA5IDQuMzczLDguNzM0IDEuMjY3LDEyLjU0IEwgMC4wMTcsLTAuMDIxIFogbSAtNi44OTksLTMuNzU1IGMgMC41NDcsMCAxLjA5LC0wLjIzOCAxLjQ2NCwtMC42OTYgTCAxMi42LC0yNi42NDcgYyAwLjY2LC0wLjgwOSAwLjUzOSwtMS45OTkgLTAuMjY5LC0yLjY1OSAtMC4yMzMsLTAuMTkgLTAuNDk2LC0wLjMxNCAtMC43NjksLTAuMzc3IC0wLjE0LC0wLjAzMyAtMC4yODMsLTAuMDQ5IC0wLjQyNiwtMC4wNDkgLTAuNTQ4LDAgLTEuMDkxLDAuMjM3IC0xLjQ2NSwwLjY5NSBsIC0xLjc5NiwyLjIxMyAtNi4zNzcsLTUuMjA1IGMgLTAuMjczLC0wLjIyNCAtMC42MDIsLTAuMzMyIC0wLjkzLC0wLjMzMiAtMC40MjYsMCAtMC44NDksMC4xODUgLTEuMTQsMC41NDEgbCAtMi44ODgsMy41MzcgYyAtMC41MDgsMC42MjIgLTAuNDE1LDEuNTM4IDAuMjA3LDIuMDQ2IGwgNi40MDgsNS4yMzEgLTIuNjE4LDMuMjI4IC0zLjE3LC0yLjU5IGMgLTAuMjYsLTAuMjExIC0wLjU3MiwtMC4zMTQgLTAuODgyLC0wLjMxNCAtMC40MDQsMCAtMC44MDUsMC4xNzUgLTEuMDgxLDAuNTEyIGwgLTAuNjYsMC44MDkgYyAtMC41MDksMC42MjMgLTAuNDE3LDEuNTQxIDAuMjA2LDIuMDUgbCAzLjEzMywyLjU1OCAtNi40NDcsNy45MTMgYyAtMC42NiwwLjgwOCAtMC41MzksMS45OTggMC4yNjksMi42NTggMC4zNTMsMC4yODcgMC43NzYsMC40MjcgMS4xOTYsMC40MjciLz48L2c+PC9nPjwvZz48L2c+PC9zdmc+\"","import { extend } from \"flarum/extend\";\nimport app from \"flarum/app\";\nimport UserCard from \"flarum/components/UserCard\";\nimport Component from 'flarum/Component';\n\nclass KeybaseBadge extends Component {\n  view() {\n    return <li>\n      <a target=\"_blank\" href={this.attrs.proofUrl}>{this.attrs.kbUsername}</a>\n      { this.attrs.canRevoke ?\n        <a class=\"deactivate\" onclick={ () => deactivate(this.attrs.id)}><i class=\"icon far fa-times-circle\"></i></a>\n        : null\n      }\n    </li>;\n  }\n}\n\nasync function deactivate(id) {\n  let success = await m.request({\n    method: \"GET\",\n    url: `/api/keybase-deactivate/${id}`,\n  });\n  if (success) {\n    // Delete the model instead\n    window.location.reload();\n  }\n}\n\nexport default function extendUserCard() {\n  extend(UserCard.prototype, \"infoItems\", function (items) {\n    // TODO: Write a model for the access\n    const proofs = this.attrs.user.data.attributes.proofs;\n    const canRevoke = app.session.user && app.session.user.id() == this.attrs.user.id();\n\n    // Only show Keybase badge if there are active proofs\n    const activeProofs = proofs.filter(proof => proof.active);\n    if (activeProofs.length === 0) {\n      return;\n    }\n\n    items.add(\n      \"keybase\",\n      <div class=\"keybase-row \">\n          <span class=\"Badge\" title=\"\" style=\"background-color: #37bd9a; margin-right: 3px;\">\n            <i class=\"icon fab fa-keybase Badge-icon\"></i>\n          </span>\n          <ul>\n            {activeProofs.map((proof) => {\n              const proofUrl = `https://keybase.io/${proof.kb_username}/sigs/${proof.sig_hash}`;\n\n              return (\n                <KeybaseBadge\n                  id={proof.id}\n                  kbUsername={proof.kb_username}\n                  canRevoke={canRevoke}\n                  proofUrl={proofUrl}\n                />\n              );\n            })}\n          </ul>\n      </div>\n    );\n  });\n}\n","import app from \"flarum/app\";\nimport KeybasePage from \"./components/KeybasePage\";\nimport Model from \"flarum/Model\";\n\nimport extendUserCard from \"./extendUserCard\";\n\nexport default class KeybaseValidator extends Model {\n  proofValid = Model.attribute(\"proof_valid\");\n  proofId = Model.attribute(\"proof_id\");\n  status = Model.attribute(\"status\");\n  error = Model.attribute(\"error\");\n}\n\napp.initializers.add(\"keybase-link-page\", () => {\n  app.store.models.keybaseValidator = KeybaseValidator;\n\n  app.routes.keybaseProfileProof = {\n    path: \"/new-keybase-profile-proof\",\n    component: KeybasePage\n  };\n\n  extendUserCard();\n});\n"],"sourceRoot":""}