module.exports=function(t){var e={};function a(o){if(e[o])return e[o].exports;var n=e[o]={i:o,l:!1,exports:{}};return t[o].call(n.exports,n,n.exports,a),n.l=!0,n.exports}return a.m=t,a.c=e,a.d=function(t,e,o){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(a.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(o,n,function(e){return t[e]}.bind(null,n));return o},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a(a.s=22)}([function(t,e){t.exports=flarum.core.compat.app},function(t,e,a){"use strict";function o(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}a.d(e,"a",(function(){return o}))},,,function(t,e){t.exports=flarum.core.compat["components/FieldSet"]},function(t,e){t.exports=flarum.core.compat.Component},function(t,e){t.exports=flarum.core.compat["utils/withAttr"]},function(t,e){t.exports=flarum.core.compat["models/Group"]},,function(t,e){t.exports=flarum.core.compat["components/UploadImageButton"]},,,,,function(t,e){t.exports=flarum.core.compat["components/ExtensionPage"]},function(t,e){t.exports=flarum.core.compat["utils/Stream"]},function(t,e){t.exports=flarum.core.compat["components/Button"]},function(t,e){t.exports=flarum.core.compat["utils/saveSettings"]},function(t,e){t.exports=flarum.core.compat["components/Alert"]},function(t,e){t.exports=flarum.core.compat["components/Select"]},,,function(t,e,a){"use strict";a.r(e);var o=a(0),n=a.n(o),s=a(1),r=a(14),i=a.n(r),u=a(5),l=a.n(u),c=a(15),p=a.n(c),f=a(4),d=a.n(f),h=a(16),b=a.n(h),v=a(17),_=a.n(v),g=a(18),y=a.n(g),k=a(19),x=a.n(k),S=a(7),N=a.n(S),T=a(9),w=a.n(T),A=a(6),O=a.n(A),j=function(t){function e(){return t.apply(this,arguments)||this}Object(s.a)(e,t);var a=e.prototype;return a.oninit=function(t){var e=this;this.saving=!1,this.fields=["forum_title","forum_description","keybase_config_version","keybase_contact_email","keybase_contact","keybase_auto_group"],this.values={};var a=app.data.settings;this.fields.forEach((function(t){return e.values[t]=p()(a[t])})),app.forum.data.attributes.keybase_svg_blackUrl=app.forum.attribute("baseUrl")+"/assets/"+app.data.settings.keybase_svg_black_path,app.forum.data.attributes.keybase_svg_fullUrl=app.forum.attribute("baseUrl")+"/assets/"+app.data.settings.keybase_svg_full_path},a.view=function(){var t=this,e=this.values.keybase_auto_group,a=null,o={};return e()?(a=e(),o.null="Remove Auto Tag"):(o.null="Choose a tag",a=null),app.store.all("groups").filter((function(t){return-1===[N.a.ADMINISTRATOR_ID,N.a.GUEST_ID,N.a.MEMBER_ID].indexOf(t.id())})).forEach((function(t){o[t.id()]=t.namePlural()})),m("div",null,m("div",null,m("p",null,"This page contains some other settings from around the admin area that will be served as part of the"," ",m("a",{href:"https://keybase.io/docs/proof_integration_guide#1-config"},"Keybase configuration file"),". It's a good idea to keep an eye on them.")),m("form",{onsubmit:this.onsubmit.bind(this),className:"BasicsPage"},d.a.component({label:app.translator.trans("core.admin.basics.forum_title_heading")},[m("input",{className:"FormControl",value:this.values.forum_title(),oninput:O()("value",this.values.forum_title)})]),d.a.component({label:app.translator.trans("core.admin.basics.forum_description_heading")},[m("div",{className:"helpText"},app.translator.trans("core.admin.basics.forum_description_text")),m("textarea",{className:"FormControl",value:this.values.forum_description(),oninput:O()("value",this.values.forum_description)})]),d.a.component({label:"Autotag"},[m("div",{className:"helpText"},"Here you can choose a group that will be automatically added to a users that links their account with Keybase."),x.a.component({options:o,value:a,onchange:function(a){e(a),t.hasChanges=!0}})]),d.a.component({label:"Contact information"},[m("div",{className:"helpText"},"A contact for Keybase in case of issues."),m("div",{className:"helpText"},"Email"),m("input",{className:"FormControl",value:this.values.keybase_contact_email(),oninput:O()("value",this.values.keybase_contact_email)}),m("div",{className:"helpText"},"Keybase (e.g. user@keybase)"),m("input",{className:"FormControl",value:this.values.keybase_contact(),oninput:O()("value",this.values.keybase_contact)})]),d.a.component({label:"Logo"},[m("div",{className:"helpText"},"Your brand logo will appear in various places around the Keybase app. Assets will be rehosted by Keybase, so let them know about updates.",m("h3",null,"SVG Black"),m("p",null,"A full-black monochrome SVG. Should look good at 16px square. Expand all texts and strokes to shapes.")),w.a.component({name:"keybase_svg_black"}),m("div",{className:"helpText"},m("h3",null,"SVG Full"),m("p",null,"A full color SVG. Should look good at 32px square. Expand all texts and strokes to shapes.")),w.a.component({name:"keybase_svg_full"})]),b.a.component({type:"submit",className:"Button Button--primary",loading:this.saving,disabled:!this.changed()},app.translator.trans("core.admin.settings.submit_button"))))},a.changed=function(){var t=this;return this.fields.some((function(e){return t.values[e]()!==app.data.settings[e]}))},a.onsubmit=function(t){var e=this;if(t.preventDefault(),!this.saving){this.saving=!0,app.alerts.dismiss(this.successAlert);var a={},o=this.values.keybase_config_version();void 0===o?this.values.keybase_config_version(1):this.values.keybase_config_version(parseInt(o)+1),this.fields.forEach((function(t){return a[t]=e.values[t]()})),_()(a).then((function(){app.alerts.show(e.successAlert=new y.a({type:"success"},app.translator.trans("core.admin.basics.saved_message")))})).catch((function(){})).then((function(){e.saving=!1,m.redraw()}))}},e}(l.a),E=function(t){function e(){return t.apply(this,arguments)||this}return Object(s.a)(e,t),e.prototype.content=function(){return m("div",{className:""},m("div",{className:"container"},m(j,null)))},e}(i.a);n.a.initializers.add("bkolobara-keybase",(function(){n.a.extensionData.for("bkolobara-keybase").registerPage(E)}))}]);
//# sourceMappingURL=admin.js.map